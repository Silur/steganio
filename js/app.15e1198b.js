(function(t){function e(e){for(var a,r,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"2d98":function(t,e,s){},4979:function(t,e,s){"use strict";var a=s("fe85"),i=s.n(a);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("Index")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-vcentered header"},[s("div",{staticClass:"column is-3"},[s("span",{staticClass:"title"},[t._v("stegan.io")])]),s("div",{staticClass:"column is-2 is-hidden-mobile"}),s("div",{staticClass:"column is-2"},[s("span",{staticClass:"subtitle"},[t._v("Hiding in plain sight")])]),s("div",{staticClass:"column is-2 is-offset-6"},[s("a",{attrs:{href:"https://github.com/Silur/steganio"}},[s("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0"},attrs:{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png",alt:"Fork me on GitHub"}})])])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-full-mobile is-half-desktop hasdivider"},[t._m(0),s("picture-input",{ref:"pictureInput",attrs:{width:"600",height:"600",margin:"16",accept:"image/jpeg",size:"10","button-class":"button is-primary",hideChangeButton:!0,"custom-strings":{upload:"<h1>Scrambling stuf...</h1>",drag:"Simply drag or tap"}},on:{change:t.onChangeCover}}),null!=t.cover?s("button",{staticClass:"button is-primary extractbtn",on:{click:function(e){t.showModal=!0}}},[t._v("Extract")]):t._e()],1),s("div",{staticClass:"column is-one-quarter"},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-full"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.secretText,expression:"secretText"}],staticClass:"input",class:{"is-danger":t.missingSecret},attrs:{placeholder:"Text to hide"},domProps:{value:t.secretText},on:{input:function(e){e.target.composing||(t.secretText=e.target.value)}}})]),t._m(2),s("div",{staticClass:"column"},[s("div",{staticClass:"file"},[s("label",{staticClass:"file-label"},[s("input",{staticClass:"file-input",attrs:{type:"file",name:"resume"},on:{change:function(e){return t.onChangeData(e)}}}),t._m(3)])])])]),t._m(4),s("div",{staticClass:"columns is-vcentered"},[t._m(5),s("div",{staticClass:"column"},[s("div",{staticClass:"control has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.seed,expression:"seed"}],staticClass:"input",domProps:{value:t.seed},on:{input:function(e){e.target.composing||(t.seed=e.target.value)}}}),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This fires up the RNG, this is needed for extraction!",expression:"'This fires up the RNG, this is needed for extraction!'"}],staticClass:"icon is-small is-left",staticStyle:{zindex:"999"}},[s("i",{staticClass:"far fa-question-circle"})])])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-offset-2"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mustEncrypt,expression:"mustEncrypt"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.mustEncrypt)?t._i(t.mustEncrypt,null)>-1:t.mustEncrypt},on:{change:function(e){var s=t.mustEncrypt,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);a.checked?r<0&&(t.mustEncrypt=s.concat([n])):r>-1&&(t.mustEncrypt=s.slice(0,r).concat(s.slice(r+1)))}else t.mustEncrypt=i}}}),t._v(" Encrypt ")])])]),s("div",{staticClass:"columns is-vcentered"},[t._m(6),s("div",{staticClass:"column"},[s("div",{staticClass:"control has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",disabled:!t.mustEncrypt},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This is used for the encryption step. Strongly advised against statistical recovery!",expression:"'This is used for the encryption step. Strongly advised against statistical recovery!'"}],staticClass:"icon is-small is-left"},[s("i",{staticClass:"far fa-question-circle"})])])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-offset-2"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.stripMeta,expression:"stripMeta"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.stripMeta)?t._i(t.stripMeta,null)>-1:t.stripMeta},on:{change:function(e){var s=t.stripMeta,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);a.checked?r<0&&(t.stripMeta=s.concat([n])):r>-1&&(t.stripMeta=s.slice(0,r).concat(s.slice(r+1)))}else t.stripMeta=i}}}),t._v(" Strip medatada ")])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-offset-2 is-4"},[s("button",{staticClass:"button is-primary hidebtn",on:{click:t.onHideClick}},[t._v("Hide it!")])])])]),s("div",{staticClass:"modal",class:{"is-active":t.showModal}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"columns is-vcentered"},[t._m(7),s("div",{staticClass:"column"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.seed,expression:"seed"}],staticClass:"input",domProps:{value:t.seed},on:{input:function(e){e.target.composing||(t.seed=e.target.value)}}})])]),s("div",{staticClass:"columns is-vcentered"},[t._m(8),s("div",{staticClass:"column"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-primary",on:{click:function(e){return t.extract()}}},[t._v("Show me!")])])])]),s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.showModal=!1}}})])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-vcentered is-mobile"},[s("div",{staticClass:"column is-2 is-offset-3"},[s("span",{staticClass:"fa-stack fa-2x"},[s("i",{staticClass:"fas fa-circle fa-stack-1x",staticStyle:{color:"#00c4a7"}}),s("i",{staticClass:"fa-stack-1x circledNumber",staticStyle:{color:"white"}},[t._v("1")])])]),s("div",{staticClass:"column is-2 is-10-mobile"},[t._v(" Place your picture here! ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-vcentered is-mobile"},[s("div",{staticClass:"column is-2"},[s("span",{staticClass:"fa-stack fa-2x"},[s("i",{staticClass:"fas fa-circle fa-stack-1x",staticStyle:{color:"#00c4a7"}}),s("i",{staticClass:"fa-stack-1x circledNumber",staticStyle:{color:"white"}},[t._v("2")])])]),s("div",{staticClass:"column is-10-mobile"},[t._v(" Type your message! ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-full typeDivider"},[s("div",{staticClass:"columns is-vcentered"},[s("div",{staticClass:"column is-5 is-hidden-mobile"},[s("hr")]),s("div",{staticClass:"column is-2"},[t._v("OR")]),s("div",{staticClass:"column is-5 is-hidden-mobile"},[s("hr")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"file-cta"},[s("span",{staticClass:"file-icon"},[s("i",{staticClass:"fas fa-upload"})]),s("span",{staticClass:"file-label"},[t._v(" Choose a fileâ€¦ ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-vcentered is-mobile"},[s("div",{staticClass:"column is-2 is-2-mobile"},[s("span",{staticClass:"fa-stack fa-2x"},[s("i",{staticClass:"fas fa-circle fa-stack-1x",staticStyle:{color:"#00c4a7"}}),s("i",{staticClass:"fa-stack-1x circledNumber",staticStyle:{color:"white"}},[t._v("3")])])]),s("div",{staticClass:"column is-10-mobile"},[t._v(" Take care of security as well! ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-2 is-2-mobile"},[s("label",{staticClass:"label"},[t._v("Seed")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-2 is-2-mobile"},[s("label",{staticClass:"label"},[t._v("Password")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-2 is-2-mobile"},[s("label",{staticClass:"label"},[t._v("Seed")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-2 is-2-mobile"},[s("label",{staticClass:"label"},[t._v("Password")])])}],o=(s("a15b"),s("fb6a"),s("d3b7"),s("25f0"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),s("e597")),l=s("ef8d"),u=s.n(l),d={name:"Index",components:{PictureInput:o["a"]},data:function(){return{mustEncrypt:!1,secretText:"",secretData:null,coverImg:null,seed:"",password:"",cover:null,missingSecret:!1,stripMeta:!0,showModal:!1}},methods:{onChangeCover:function(t){var e=this;if(t){var s=new FileReader;s.onload=function(t){e.cover=new Uint8Array(t.target.result)},s.readAsArrayBuffer(this.$refs.pictureInput.file)}else this.cover=null},onChangeData:function(t){var e=this,s=new FileReader;s.onload=function(t){e.secretData=new Uint8Array(t.target.result)},s.readAsArrayBuffer(t.target.files[0])},onHideClick:function(){var t=this,e=this.secretData||(new TextEncoder).encode(this.secretText);if(null!==e&&0!==e.length){this.missingSecret=!1;var s=(new TextEncoder).encode(this.seed),a=new u.a(s);if(this.stripMeta&&a.strip(),this.mustEncrypt)this.encrypt(e,this.password).then((function(e){var s=[];try{s=a.embed(t.cover,new Uint8Array(e))}catch(i){return alert("this jpg file is not suitable for steganography"),0}t.promptDownload("data:image/jpeg;base64,"+btoa(t.Uint8ToString(s)),".jpg")})).catch((function(t){console.log("encryption error",t)}));else{var i=[];try{i=a.embed(this.cover,e)}catch(n){return alert("this jpg file is not suitable for steganography"),0}this.promptDownload("data:image/jpeg;base64,"+btoa(this.Uint8ToString(i)),".jpg")}}else this.missingSecret=!0},Uint8ToString:function(t){for(var e=32768,s=[],a=0;a<t.length;a+=e)s.push(String.fromCharCode.apply(null,t.subarray(a,a+e)));return s.join("")},promptDownload:function(t,e){console.log("call prompt with",t);var s=document.createElement("a");s.setAttribute("href",t);var a=Math.random().toString(36).substring(2);s.setAttribute("download",a+e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},encrypt:function(t,e){var s=window.crypto.getRandomValues(new Uint8Array(16)),a=window.crypto.getRandomValues(new Uint8Array(16));return window.crypto.subtle.importKey("raw",(new TextEncoder).encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]).then((function(t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:1e5,hash:"SHA-256"},t,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])})).then((function(e){return window.crypto.subtle.encrypt({name:"AES-CBC",iv:s},e,t)})).then((function(t){return new Promise((function(e){t=new Uint8Array(t);var i=new Uint8Array(32+t.length);i.set(s),i.set(a,16),i.set(t,32),e(i)}))})).catch((function(t){console.log("encryption error:",t)}))},decrypt:function(t,e){var s=t.slice(0,16),a=t.slice(16,32);return t=t.slice(32),window.crypto.subtle.importKey("raw",(new TextEncoder).encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]).then((function(t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:1e5,hash:"SHA-256"},t,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])})).then((function(e){return window.crypto.subtle.decrypt({name:"AES-CBC",iv:s},e,t)})).catch((function(t){console.log("decryption error:",t)}))},extract:function(){var t=this,e=(new TextEncoder).encode(this.seed),s=new u.a(e),a=s.extract(this.cover);""!==this.password?this.decrypt(a,this.password).then((function(e){e=new Uint8Array(e),t.promptDownload("data:application/octet=stream;base64,"+btoa(String.fromCharCode.apply(null,e)),"")})):this.promptDownload("data:application/octet=stream;base64,"+btoa(String.fromCharCode.apply(null,a)),""),this.showModal=!1,this.seed="",this.password=""}}},p=d,m=(s("4979"),s("2877")),f=Object(m["a"])(p,r,c,!1,null,"1fa661f2",null),v=f.exports,h={name:"App",components:{Index:v}},y=h,C=(s("034f"),Object(m["a"])(y,i,n,!1,null,null,null)),b=C.exports,g=s("e37d");s("7051"),s("92c6"),s("2d98"),a["a"].config.productionTip=!1,a["a"].use(g["a"]),new a["a"]({render:function(t){return t(b)}}).$mount("#app")},"85ec":function(t,e,s){},fe85:function(t,e,s){}});
//# sourceMappingURL=app.15e1198b.js.map